<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Prison Web Map</title>
  <script>
    var esriConfig = {
      apiKey: "AAPTxy8BH1VEsoebNVZXo8HurBCyASoKLvJMp975P0MhDgOuTsrDo0KNXU1kRCxD8HVhcJ37PFTYJlUumgZryXmFp3p_BSw0Nd0qhhltCqh9FDqvJTkiq-rIVUJxV2ItFSBLxdAVItk41rtx3Ng_HOqYW6NSKSu7PgqQZvB1GgLU25h_5rt-GlnFTyMxisRRTvJM46bXmIANiymioQHcxrzrlmQg0uXsG5Nc5K25zKvbC60.AT1_HB22LyUE"
    };
  </script>
  <link rel="stylesheet" href="wip.css" />
  <link rel="stylesheet" href="https://js.arcgis.com/4.32/esri/themes/light/main.css" />
  <script type="module" src="https://js.arcgis.com/calcite-components/3.0.3/calcite.esm.js"></script>
  <script src="https://js.arcgis.com/4.32/"></script>
  <script type="module" src="https://js.arcgis.com/map-components/4.32/arcgis-map-components.esm.js"></script>
</head>
<body>
  <!-- Intro Page -->
  <div id="intro">
    <div id="intro-box">
      <h1>Correctional Facilities Maps</h1>
      <p>Explore correctional facilities across the U.S. with interactive symbology.</p>
      <p>Scroll to go through each section.</p>
    </div>
    <button class = "buttons" id="startButton">⇩</button>
  </div>
  <div id="title">
    <h2> Map of Correctional Facitilies</h2>
    <p> Data from the USGS National Map Corps Structures dataset.</p>
  </div>

  <!-- ArcGIS Map -->
  <arcgis-map baseMap="arcgis/topographic" center="-98, 39" zoom="5">
    <arcgis-zoom position="bottom-right"></arcgis-zoom>
  </arcgis-map>

  <!-- Map Container -->
  <div id="map-container">
    <!--<button class = "buttons" id = "up">⇩up</button>-->
    <div class="ui-container" id="legend1">
      <calcite-label>
        Choose Symbolization Field:
        <calcite-select id="symbolFieldSelector">
          <calcite-option value="Facil_Type">Facility Type</calcite-option>
          <calcite-option value="Facil_Age">Facility Age</calcite-option>
          <calcite-option value="Facil_Scop">Facility Scope</calcite-option>
          <calcite-option value="Facil_Gend">Facility Gender</calcite-option>
        </calcite-select>
        <calcite-panel heading="Legend" id="legendPanel"></calcite-panel>
      </calcite-label>
    </div>
    <button class ="buttons">⇩</button>
  </div>

  <div class="story-container">
    <div class="story-section">
      <h2>Louisiana</h2>
      <p>Louisiana has the highest percentage of its population incarcerated in the United States. This means it also has a higher percentage of its population incarcerated than any country in the world.</p>
      <img id="laNATO" src="NATO_LA_2024.webp" alt="NATO_LA_2024">
    </div>
    <div class="story-section" data-image="LA_racial_disparities_2021.webp">
      <p>It also exemplifies many current issues with the prison system in the United States. One is the disproportionately large proportion of certain ethnic groups who are incarcerated.</p>
      <img id="racdis" src="LA_racial_disparities_2021.webp" alt="LA_racial_disparities_2021">
    </div>
    <div class="story-section">
      <p>Another is how many people are incarcerated before their trial.</p>
      <img id="conv" src="LA_conviction_status_1978-2019.webp" alt="LA_conviction_status_1978-2019">
      <p>This information comes from the Prison Policy Initiative's profile <a href ="https://www.prisonpolicy.org/profiles/LA.html">page on Louisiana</a>. <br> 
       More information about recent Louisiana crime laws:<br>
      <a href="https://www.nytimes.com/2024/03/06/us/louisiana-laws-crime.html"> New York Times Article</a><br>
      <a href="https://theweek.com/politics/louisiana-crackdown-crime-reversal-judicial-overhaul">The Week Article</a><br>
        <a href="https://www.themarshallproject.org/2024/03/09/louisiana-georgia-kentucky-tough-on-crime">Marshall Project Article</a></p>
    </div>
    <div class = "story-section"></div>
  </div>

  <div class="ui-container" id="legend2">
    <calcite-label>
      Select Year:
      <calcite-slider id="yearSlider" min="2022" max="2022" step="1" value="2022" label-handles max-label="2022" min-label="2022" ticks="1"></calcite-slider>
    </calcite-label>
    <calcite-label>
      Choose Category:
      <calcite-select id="layerSelector"></calcite-select>
      Choose Variable:
      <calcite-select id="varSelector"></calcite-select>
      <calcite-note id="descriptionNote" icon="information">
        <div id="varDescription"></div>
        <calcite-tooltip id = "descToolTip" reference-element="varDescription" placement="top" overlayPositioning = "fixed" ></calcite-tooltip>
      </calcite-note>
      <calcite-label>
        Normalize?
        <calcite-switch id="normalizeToggle" label="Normalize by Population"></calcite-switch>
      </calcite-label>
      <calcite-panel heading="Legend" id="legendPanel2"></calcite-panel>
    </calcite-label>
  </div>
  <script src="workingdraft.js"></script>
</body>
</html>
